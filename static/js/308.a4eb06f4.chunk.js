"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[308],{308:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(439),i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYmM4YTFmYzFjNTJkNDI2MzdiOWY0YzM4Y2YwMTE1ZiIsInN1YiI6IjY0MzczYzAzMWY3NDhiMDA3NzE1NWRjYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xP9IjysvP2DNJPfyp9LiVDmBl5Ma23Yd9KpANBssuVc"}},u=function(e){return fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1"),i).then((function(e){return e.json()}))},c=n(791),a=n(87),o=n(689),s=n(184),l=function(){var e,t=(0,a.lr)(),n=(0,r.Z)(t,2),i=n[0],l=n[1],f=null!==(e=i.get("query"))&&void 0!==e?e:"",h=(0,c.useState)(f),d=(0,r.Z)(h,2),p=d[0],m=d[1],j=(0,c.useState)([]),y=(0,r.Z)(j,2),Y=y[0],I=y[1],z=(0,o.TH)();(0,c.useEffect)((function(){p&&u(p).then((function(e){I(e.results)})).catch((function(e){return console.error(e)}))}),[p]),(0,c.useEffect)((function(){!f&&l({})}),[f,l]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.input.value.trim();t&&(m(t),l({query:t}))},children:[(0,s.jsx)("input",{name:"input",type:"text"}),(0,s.jsx)("button",{type:"submit",children:"Search"})]}),(0,s.jsx)("ul",{children:Y&&Y.map((function(e){return(0,s.jsx)(a.rU,{to:"".concat(e.id),state:{from:z},style:{display:"block"},children:e.title},e.id)}))})]})}}}]);
//# sourceMappingURL=308.a4eb06f4.chunk.js.map